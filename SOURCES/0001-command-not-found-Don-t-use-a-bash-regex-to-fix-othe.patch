From bb5d77c89eb0f98e7a76b7cdf14cfe9e79d387fa Mon Sep 17 00:00:00 2001
From: Richard Hughes <richard@hughsie.com>
Date: Mon, 25 Nov 2019 11:49:06 +0000
Subject: [PATCH] command-not-found: Don't use a bash regex to fix other shells

---
 contrib/command-not-found/PackageKit.sh.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/contrib/command-not-found/PackageKit.sh.in b/contrib/command-not-found/PackageKit.sh.in
index ea90981f7..1e1fcdffd 100644
--- a/contrib/command-not-found/PackageKit.sh.in
+++ b/contrib/command-not-found/PackageKit.sh.in
@@ -11,7 +11,7 @@ command_not_found_handle () {
 	local retval=127
 
 	# only search for the command if we're interactive
-	[[ $- =~ i ]] || runcnf=0
+	[[ $- == *"i"* ]] || runcnf=0
 
 	# don't run if DBus isn't running
 	[[ ! -S /run/dbus/system_bus_socket ]] && runcnf=0
-- 
2.23.0

